import"../chunks/DsnmJJEf.js";import{o as Fe,s as p}from"../chunks/C4D4H-Rj.js";import{d as Me,p as Oe,s as g,a as Je,f as ae,b as s,c as i,t as be,g as t,e as o,h as Pe,i as r,r as a,n as We,j as w,k as te,l as re}from"../chunks/B2GSEFui.js";import{i as D}from"../chunks/Cf2-vkXE.js";import{b as Be,H as Ke,e as qe,i as ze}from"../chunks/zaMg5-QU.js";import{s as $,r as Qe}from"../chunks/Oswy-98c.js";async function Xe(j,E,b,x,y,c,d,f,u,C){const G=`https://joy.im-fine.dev/hub/playuserhub?group_id=${t(E)}&device_type=wall`;i(b,new Ke().withUrl(G).build(),!0),t(b).on("wall_msg",(U,m,n)=>{if(m==="landmarks"&&n){i(x,"playing");try{const I=JSON.parse(n);i(y,I.length,!0),c(),d(`[RECEIVE] ✅ Landmarks: ${I.length}개`)}catch{d("❌ JSON 파싱 실패")}}m==="depth"&&(i(f,n,!0),c(),d(`[RECEIVE] 📌 Depth: ${n}`)),m==="gesture"&&(i(u,n,!0),c(),d(`[RECEIVE] ✋ Gesture: ${n}`)),m==="camera"&&(i(x,n,!0),c(),d(`[RECEIVE] 📷 Camera: ${n}`)),m==="user"&&(n==="disconnected"&&(i(u,"none"),i(y,0),i(x,"disconnected"),i(f,"0")),d(`[RECEIVE] 💤 ${n}`),i(C,!1))});try{await t(b).start(),i(C,!0),d("[INFO] ✅ Wall 연결 성공!")}catch(U){d(`❌ 연결 실패: ${U}`)}}var Ye=(j,E)=>i(E,[],!0),Ze=ae('<div class="text-gray-500 text-center py-8">대기 중...</div>'),Le=ae('<div class="mb-1"> </div>'),et=ae('<div class="px-8 py-8 max-w-6xl mx-auto"><h1 class="text-3xl font-bold mb-6">🖥️ Wall Debug Panel</h1> <div class="bg-gray-100 p-4 rounded-lg mb-6"><div class="flex gap-4 items-center mb-4"><label for="group_id" class="font-semibold">Group ID:</label> <input class="px-3 py-2 border rounded flex-1" placeholder="예: test"/> <button class="bg-blue-500 text-white px-6 py-2 rounded hover:bg-blue-600 disabled:bg-gray-400"> </button></div> <div class="text-sm"><span class="font-semibold">Status:</span> <span> </span></div></div> <div class="pb-2 text-gray-600 text-xs"> </div> <div class="grid grid-cols-4 gap-4 mb-6"><div class="bg-white border-2 border-gray-200 rounded-lg p-3"><div class="text-xs text-gray-500 mb-2 font-semibold">GESTURE</div> <div class="flex flex-col items-center gap-2"><span class="text-4xl"> </span> <div> </div></div></div> <div class="bg-white border-2 border-gray-200 rounded-lg p-3"><div class="text-xs text-gray-500 mb-2 font-semibold">LANDMARKS</div> <div class="flex flex-col items-center gap-2"><div class="text-4xl"><!></div> <div class="text-center"><div> <span class="text-xs text-gray-500 font-normal">points</span></div></div></div></div> <div class="bg-white border-2 border-gray-200 rounded-lg p-3"><div class="text-xs text-gray-500 mb-2 font-semibold">CAMERA</div> <div class="flex flex-col items-center gap-2"><span class="text-4xl"><!></span> <div> </div></div></div> <div class="bg-white border-2 border-gray-200 rounded-lg p-3"><div class="text-xs text-gray-500 mb-2 font-semibold">DEPTH</div> <div class="flex flex-col items-center gap-2"><span class="text-4xl">📊</span> <div class="text-center"><div class="text-lg font-bold text-blue-600"> </div></div></div></div></div> <div class="bg-black text-green-400 p-4 rounded-lg font-mono text-sm h-[400px] overflow-y-auto"><div class="flex justify-between items-center mb-2 text-white"><span class="font-bold"> </span> <button class="bg-red-600 px-3 py-1 rounded text-xs hover:bg-red-700">Clear</button></div> <!></div></div>');function dt(j,E){Oe(E,!0);let b=g("test"),x=g(Je([])),y=g(null),c=g(!1),d=g("none"),f=g(0),u=g("unknown"),C=g("0"),G=g("-");function U(e){i(x,[`${new Date().toLocaleTimeString()} ${e}`,...t(x)].slice(0,5e3),!0)}function m(){i(G,new Date().toLocaleTimeString(),!0)}function n(e){switch(e){case"pinch":return"🤏🏻";case"fist":return"✊🏻";case"none":return"✋🏻";default:return"❓"}}function I(e){switch(e){case"pinch":return"text-purple-600 bg-purple-100";case"fist":return"text-red-600 bg-red-100";case"none":return"text-gray-600 bg-gray-100";default:return"text-gray-600 bg-gray-100"}}function fe(e){switch(e){case"paused":return"text-yellow-600 bg-yellow-100";case"playing":return"text-green-600 bg-green-100";case"disconnected":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}}Fe(()=>{const e=localStorage.getItem("group_id");return e&&i(b,e,!0),()=>{t(y)&&t(y).stop()}});var A=et(),H=s(r(A),2),N=r(H),T=s(r(N),2);Qe(T);var V=s(T,2);V.__click=[Xe,b,y,u,f,m,U,C,d,c];var _e=r(V,!0);a(V),a(N);var se=s(N,2),F=s(r(se),2);let ie;var me=r(F,!0);a(F),a(se),a(H);var M=s(H,2),ye=r(M);a(M);var O=s(M,2),J=r(O),le=s(r(J),2),P=r(le),he=r(P,!0);a(P);var W=s(P,2),we=r(W,!0);a(W),a(le),a(J);var B=s(J,2),de=s(r(B),2),K=r(de),Ee=r(K);{var Ce=e=>{var l=w("✅");o(e,l)},Ie=e=>{var l=w("❌");o(e,l)};D(Ee,e=>{t(f)>0?e(Ce):e(Ie,!1)})}a(K);var ne=s(K,2),q=r(ne);let ve;var Re=r(q);We(),a(q),a(ne),a(de),a(B);var z=s(B,2),oe=s(r(z),2),Q=r(oe),Se=r(Q);{var ke=e=>{var l=w("📹");o(e,l)},De=e=>{var l=te(),R=re(l);{var S=v=>{var _=w("⏸️");o(v,_)},k=v=>{var _=te(),L=re(_);{var Ne=h=>{var ee=w("🔌");o(h,ee)},Te=h=>{var ee=w("❓");o(h,ee)};D(L,h=>{t(u)==="disconnected"?h(Ne):h(Te,!1)},!0)}o(v,_)};D(R,v=>{t(u)==="paused"?v(S):v(k,!1)},!0)}o(e,l)};D(Se,e=>{t(u)==="playing"?e(ke):e(De,!1)})}a(Q);var X=s(Q,2),Ge=r(X,!0);a(X),a(oe),a(z);var ce=s(z,2),xe=s(r(ce),2),pe=s(r(xe),2),ue=r(pe),Ue=r(ue,!0);a(ue),a(pe),a(xe),a(ce),a(O);var ge=s(O,2),Y=r(ge),Z=r(Y),Ve=r(Z);a(Z);var $e=s(Z,2);$e.__click=[Ye,x],a(Y);var je=s(Y,2);{var Ae=e=>{var l=Ze();o(e,l)},He=e=>{var l=te(),R=re(l);qe(R,17,()=>t(x),ze,(S,k)=>{var v=Le(),_=r(v,!0);a(v),be(()=>p(_,t(k))),o(S,v)}),o(e,l)};D(je,e=>{t(x).length===0?e(Ae):e(He,!1)})}a(ge),a(A),be((e,l,R,S,k,v,_,L)=>{V.disabled=t(c),p(_e,t(c)?"✅ 연결됨":"연결하기"),ie=$(F,1,"",null,ie,e),p(me,t(c)?"🟢 연결됨":"🔴 연결 안됨"),p(ye,`마지막 업데이트: ${t(G)??""}`),p(he,l),$(W,1,`text-sm font-bold ${R??""} px-3 py-1 rounded-lg`),p(we,S),ve=$(q,1,"text-xl font-bold",null,ve,k),p(Re,`${t(f)??""} `),$(X,1,`text-sm font-bold ${v??""} px-3 py-1 rounded-lg`),p(Ge,_),p(Ue,L),p(Ve,`📋 Logs (${t(x).length??""})`)},[()=>({"text-green-600":t(c),"text-red-600":!t(c)}),()=>n(t(d)),()=>I(t(d)),()=>t(d).toUpperCase(),()=>({"text-green-600":t(f)>0,"text-gray-400":t(f)===0}),()=>fe(t(u)),()=>t(u).toUpperCase(),()=>parseFloat(t(C)).toFixed(5)]),Be(T,()=>t(b),e=>i(b,e)),o(j,A),Pe()}Me(["click"]);export{dt as component};
